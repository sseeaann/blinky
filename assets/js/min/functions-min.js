$(function(){function e(e){var s=e.find("input[type='email']").val();return s&&s.length?-1===s.indexOf("@")?!1:!0:!1}function s(e){$.ajax({type:"GET",url:e.attr("action"),data:e.serialize(),cache:!1,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",success:function(s){var n=s.msg||"Sorry, unable to subscribe. Please try again later.";"success"!==s.result?s.msg&&s.msg.indexOf("already subscribed")>=0&&(n="Looks like you've already subscribed. Thanks!",C.remove(),$("#errors").append("<p id='errorMessage'>"+n+"</p>")):(e[0].reset(),t.fadeIn(),a.hide())}})}function n(){setTimeout(function(){d.addClass("animated flipInY").one(h,function(){$(this).removeClass("flipInY")})},500)}function i(){setInterval(function(){d.addClass("bounce").one(h,function(){$(this).removeClass("bounce")})},3e4)}var o=$("#mc-embedded-subscribe-form"),a=$("#signup"),t=$("#signup-success"),r=$("header"),d=$("#logo"),l=$(".contactOverlay"),c=$("body"),u=$("header .content"),m=$(".modal .modalContent"),p=$("main .container"),f=$(".overlay-shadow"),h="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",g=0,v=$(window),C=$("#errorMessage"),b=!1;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(b=!0,p.addClass("mobileC")),d.click(function(){g++,2>=g?$(this).addClass("swing").one(h,function(){$(this).removeClass("swing")}):3===g&&$(this).addClass("hinge").one(h,function(){$(this).removeClass("hinge").addClass("flipInY").one(h,function(){$(this).removeClass("flipInY")}),g=0})}),$("#twitterBird").mouseover(function(){$(this).addClass("animated scaleDown").one(h,function(){$(this).removeClass("scaleDown")})}),$(".cta").click(function(){l.addClass("is-open"),c.css("overflow","hidden"),b===!0?m.addClass("slideInRight-mobile"):m.addClass("slideInRight")}),$("#close-btn").click(function(){l.removeClass("is-open"),c.css("overflow","initial"),b===!0?m.removeClass("slideInRight-mobile").addClass("slideOutRight").one(h,function(){$(this).removeClass("slideOutRight")}):m.removeClass("slideInRight").addClass("slideOutRight").one(h,function(){$(this).removeClass("slideOutRight")}),t.fadeOut("slow"),a.fadeIn("slow"),C.remove(),$("input[type='email']").css("border","none"),o[0].reset()}),$(window).scroll(function(){var e=$(this).scrollTop(),s=e+v.height(),n=$("footer"),i=n.offset().top;e>0&&b===!1?(f.css({opacity:"calc("+.00137*e+")"}),r.css({"background-size":"calc("+e/35+"% + 100%)"}),p.css({transform:"translate(0px, -"+e/5+"%)","font-size":e/30+"px"}),u.css({transform:"translate(0px, "+e/6+"%)",opacity:1-e/730}),s>=i+200&&$("#comingSoon").addClass("animated lightSpeedIn").one(h,function(){$(this).removeClass("lightSpeedIn").addClass("bump")})):(f.css({opacity:"0"}),r.css({"background-size":"100%"}),u.css({transform:"translate(0px, 0%)",opacity:1}),$("#comingSoon").css({opacity:1}),s>=i+200&&$("#comingSoon").addClass("animated bump"))}),o.submit(function(n){n.preventDefault(),e(o)?s(o):(C.remove(),$("#errors").append("<p id='errorMessage'>A valid email is required.</p>"),$("input[type='email']").css({border:"2px solid red","border-radius":"6px"}))}),setTimeout(function(){i()},5e3),n()});